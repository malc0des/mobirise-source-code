defineM("app-plugin-sidebar",function(c,e){e.regExtension({name:"plugin-sidebar",global:{$sidebar:c(".app-sidebar"),$sidebarToggle:c(".sidebar-toggle .mbr-icon-bars"),$sidebarClose:c(".sidebar-close"),openSidebar:function(){this.$body.hasClass("app-page-settings-open")||this.$body.hasClass("app-component-code-editor-open")||(this.$body.toggleClass("app-sidebar-open"),this.fire("sidebarOpened"))},closeSidebar:function(){this.$body.hasClass("app-page-settings-open")||(this.$body.removeClass("app-sidebar-open"),
this.fire("sidebarClosed"))},addSidebarItem:function(a,b){b||(b=a,a="");b=c.extend({title:a,description:b.tooltip||b.title,className:"sidebar-block",subTitle:"",subClass:"",hover:!0,customHTML:""},b);b.hover&&(b.className+=" hover-block");a='<div class="hover-block @className@" data-tooltipster="right" title="@description@"><span class="hover-block-arrow mbr-icon-angle-right"></span><h4>@title@</h4></div>';for(var d in b)a=a.replace(new RegExp("@"+d+"@","g"),b[d]);a=c(a);b.customHTML&&a.append(b.customHTML);
a.appendTo(this.$sidebar);b.onclick&&a.click(b.onclick);return a}},events:{load:function(){var a=this;a.$sidebarToggle.on("mouseenter touchenter",function(b){a.openSidebar()});a.$sidebarClose.on("click",function(){a.closeSidebar()})},clickBody:function(a){c(a.target).is(".mbr-icon-bars")||c(a.target).is(".app-sidebar")||c(a.target).parents(".app-sidebar").length||c(a.target).parents(".app-layer").length||c(a.target).is(".app-layer")||c(a.target).is("ul, li")||this.closeSidebar()},toggleComponents:function(){this.closeSidebar()}}})},
["jQuery","mbrApp"]);
