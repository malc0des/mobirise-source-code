var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
defineM("app-user-account",function(a,c,b,d,e){var f=0;c.regExtension({name:"user-account-dialog",global:{$btnAccountBlock:a(".account-block"),$accountSettings:a("#app-account-settings"),updateAccountBlock:function(){this.fire("updateAccountBlock");var a=this.$btnAccountBlock.find(".app-user-email"),d=b("Please, Sign Up"),e=c.getUserInfo();e&&e.email?(this.$btnAccountBlock.addClass("app-user-signed"),d=e.email):this.$btnAccountBlock.removeClass("app-user-signed");a.text(d);this.fire("updatedAccountBlock")},
showAccountSettings:function(){this.$body.hasClass("app-account-settings-open")||(this.fire("showSideBarsSection",this.$accountSettings),this.fire("showAccountSettings"),a(".account-email").text(c.getUserInfo().email),this.$body.addClass("app-account-settings-open"),this.fire("showedAccountSettings"))},hideAccountSettings:function(){this.$body.hasClass("app-account-settings-open")&&(this.fire("hideAccountSettings"),this.$body.removeClass("app-account-settings-open"),this.fire("hiddenAccountSettings"))},
_initAccountSettings:function(){var a=this;a.$accountSettings.on("click",function(a){a.stopPropagation()});a.$accountSettings.on("click",".app-layer-close",function(c){a.hideAccountSettings()});a.on("clickBody",function(){a.hideAccountSettings()});b(c.$accountSettings[0]);c.fire("initAccountSettings",a.$accountSettings)}},events:{accountInited:function(){c.getUserInfo()&&this.updateAccountBlock()},signedin:function(){this.updateAccountBlock()},load:function(){var b=this;b._initAccountSettings();b.$btnAccountBlock.on("click",
function(a){a.preventDefault();a.stopPropagation();c.getUserInfo()?b.showAccountSettings():b.showSignForm()});a("#accountResetPassword").click(function(){b.resetPassword()});a("#accountLogout").click(function(){b.logout()})},published:function(){var a=this;c.getUserInfo()||f||(f++,d.getSettings("showSignFormOnLoad",function(b){"no"!==b&&""!==b&&a.showSignForm(1)}))},showSideBarsSection:function(){this.hideAccountSettings()},sidebarClosed:function(){this.hideAccountSettings()}}})},["jQuery","mbrApp",
"TR()","Bridge","mbrServer"]);
