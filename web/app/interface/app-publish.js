var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,k){b!=Array.prototype&&b!=Object.prototype&&(b[a]=k.value)};
$jscomp.polyfill=function(b,a,k,h){if(a){k=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var f=b[h];f in k||(k[f]={});k=k[f]}b=b[b.length-1];h=k[b];a=a(h);a!=h&&null!=a&&$jscomp.defineProperty(k,b,{configurable:!0,writable:!0,value:a})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function a(){this.batch_=null}function k(a){return a instanceof f?a:new f(function(b,n){b(a)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;a.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var h=$jscomp.global.setTimeout;a.prototype.asyncExecuteFunction=function(a){h(a,0)};a.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var f=a[b];a[b]=null;try{f()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};a.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(q){b.reject(q)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(n){f||(f=!0,a.call(b,n))}}var b=this,f=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(q){this.reject_(q);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)v.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var v=new a;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var f=this.createResolveAndReject_();try{a.call(b,f.resolve,f.reject)}catch(r){f.reject(r)}};f.prototype.then=function(a,b){function k(a,b){return"function"==typeof a?function(d){try{h(a(d))}catch(g){t(g)}}:b}var h,t,n=new f(function(a,b){h=a;t=b});this.callWhenSettled_(k(a,h),k(b,t));return n};
f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function f(){switch(k.state_){case 1:a(k.result_);break;case 2:b(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?v.asyncExecute(f):this.onSettledCallbacks_.push(f)};f.resolve=k;f.reject=function(a){return new f(function(b,f){f(a)})};f.race=function(a){return new f(function(b,f){for(var h=$jscomp.makeIterator(a),t=h.next();!t.done;t=h.next())k(t.value).callWhenSettled_(b,
f)})};f.all=function(a){var b=$jscomp.makeIterator(a),h=b.next();return h.done?k([]):new f(function(a,f){function t(d){return function(b){q[d]=b;u--;0==u&&a(q)}}var q=[],u=0;do q.push(void 0),u++,k(h.value).callWhenSettled_(t(q.length-1),f),h=b.next();while(!h.done)})};return f},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(b,a){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:a})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function b(k){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(k||"")+"_"+a++,k)}var a=0;return b}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,a){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var k=0,h={next:function(){if(k<b.length){var f=k++;return{value:a(f,b[f]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,a){for(var k=1;k<arguments.length;k++){var h=arguments[k];if(h)for(var f in h)$jscomp.owns(h,f)&&(b[f]=h[f])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
defineM("app-publish",function(b,a,k){function h(){var d=a.getUserInfo().id||"",b=Bridge&&Bridge.version?Bridge.version:"",c=$jscomp.makeIterator((A||t).top.sort(function(){return.5-Math.random()})),l=c.next().value;c=c.next().value;return D.replace(/\$VERSION\$/g,b).replace(/\$FIRST_TEXT\$/g,a.spinText(l.text)).replace(/\$FIRST_LINK\$/g,l.link).replace(/\$SECOND_TEXT\$/g,a.spinText(c.text)).replace(/\$SECOND_LINK\$/g,c.link).replace(/\$USER_ID\$/g,d)}function f(){return new Promise(function(a){function b(d){if(d)return Bridge.decode(d,
function(d){try{var c=d?JSON.parse(d):t}catch(w){console.error(w),c=t}a(c)});a(t)}function c(a){Bridge.saveLocalFile(d,a);return a}var d=Bridge.dataLocation+"/cache.dat";Bridge.getInfoLocal(d,function(g){var e=864E5>Math.abs((g||{}).modified-new Date);if(g&&e)return Bridge.loadLocalFile(d,b);fetch("https://mobirise.com/cache.dat").then(function(a){return a.text()}).then(c).then(b).catch(function(d){return a(t)})})})}function v(d){a.progressBar("isCanceled")?(a.progressBar("show",k("Progress"),k("Publishing..."),
!1),a.progressBar(1),a.progressBar(k("Initialization, please wait...")),a.$progressModal.one("shown.bs.modal",function(){d&&d()})):d&&d()}function n(d){var g=a.Core.resultJSON,c=[],l=0,m;for(m in g)c.push(a.Core.loadPage(m)),l++;return b.when.apply(b,c).then(function(){d&&d(l)})}function C(a){var d=document.createElement("div");d.setAttribute("path",a);return(d=/"([^"]*)"/.exec(d.outerHTML))&&d[1]||a}function q(a){a=a.replace(/^&quot;|&quot;$/g,"");return(new DOMParser).parseFromString("<!doctype html><body>"+
a,"text/html").body.textContent}function r(a){return!("string"==typeof a&&/^https?:\/\//i.test(a)||/^tel?:/i.test(a))}var t={top:[{link:"https://mobirise.com",text:"{{Mobirise|Mobirise.com|Mobirise Review|Mobirise Alternative} | {Free|Best|} {Website|Web Site|Web|Web Page} {Builder|Building|Creation|} Software}"},{link:"https://mobirise.com/website-design-software.html",text:"{Free|Best|} {Website|Web Site|Web|Web Page} {Design|Designing|Designer} Software"},{link:"https://mobirise.com/web-page-maker.html",
text:"{Free|Best|} Web Page {Maker|Builder|Creator}"},{link:"https://mobirise.com/website-maker.html",text:"{Free|Best|} {Website|Web Site} Maker"},{link:"https://mobirise.com/offline-website-builder.html",text:"{Free|Best} Offline {Website|Web|Site|Web Page} {Builder|Maker|Creator|Builder|Software}"},{link:"https://mobirise.com/html-builder.html",text:"{Free|Best|} {HTML|HTML5} {Website|Page|Site|} {Builder|Maker|Creator|Generator}"}],banner:[{link:"https://mobirise.com",text:"{Made|Built|Created|Designed} with [{{Mobirise|Mobirise.com} | {Free|} {Website|Web Site|Web|Web Page}  {Builder|Building|Creation|} Software}]"},
{link:"https://mobirise.com/website-design-software.html",text:"{Made|Built|Created|Designed} with Mobirise [{Free|} {Website|Web Site|Web|Web Page} {Design|Designing|Designer} Software]"},{link:"https://mobirise.com/web-page-maker.html",text:"{Made|Built|Created|Designed} with Mobirise [{Free|} Web Page {Maker|Builder|Creator}]"},{link:"https://mobirise.com/website-maker.html",text:"{Made|Built|Created|Designed} with Mobirise [{Free|} {Website|Web Site} Maker]"},{link:"https://mobirise.com/offline-website-builder.html",
text:"{Made|Built|Created|Designed} with Mobirise [{Free|} Offline {Website|Web|Site|Web Page} {Builder|Maker|Creator|Builder|Software}]"},{link:"https://mobirise.com/html-builder.html",text:"{Made|Built|Created|Designed} with Mobirise [{Free|Best|} {HTML|HTML5} {Website|Page|Site|} {Builder|Maker|Creator|Generator}]"}],image:[{link:"https://mobiri.se/$USER_ID$",text:"{{Mobirise|Mobirise.com} | {Free|} {Website|Web Site|Web|Web Page}  {Builder|Building|Creation|} Software}"}]},A,D,u="";a.regExtension({name:"publish",
global:{publishPages:{},publishImagesList:[],$publishBtn:b(".app-publish"),$previewBtn:b(".app-preview"),additionalStyles:"",skeletonHTML:'$global_before_html$$SETTINGS.html_before$<!DOCTYPE html>\n<html $AMP_TITLE$ $LANG_ATTR$>\n<head>\n  \x3c!-- Site made with Mobirise Website Builder v$VERSION$, https://mobirise.com --\x3e\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <meta name="generator" content="Mobirise v$VERSION$, mobirise.com">\n  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">\n  <meta name="description" content="$SETTINGS.meta_descr$">\n  $AMP_SCRIPT_HASH$\n  $LINKS_ALTERNATE$\n  $SETTINGS.title$\n  $STYLES$\n  $SCRIPTS_HEAD$\n  $global_header_custom$\n  $SETTINGS.header_custom$\n</head>\n<body>\n  $global_after_body$\n  $CONTENT$$SCRIPTS$\n  $global_footer_custom$\n  $SETTINGS.footer_custom$\n</body>\n</html>',
forEachObjKeys:function(a,b,c){function d(){g<f?(setTimeout(function(c){return function(){b(a[e[c]],e[c],a,d)}}(g),0),++g):c()}var g=0,e=Object.keys(a),f=e.length;d()},publish:function(d,g,c,l){function f(d,g){function f(a){return a+(-1<a.indexOf(".")?"":".html")}function m(d){var g=b.Deferred();e.progressBar(k("Preparing $page name$").replace("$page name$",d)+"...");e.Core.getResultHTML(d).then(function(l){function m(){function b(c,b,g){g=void 0===g?"":g;var m=A||t,k=m.banner;m=m.image;b=b?b+"/":
"";var p=a.getUserInfo().id||"";if(!/^mobirise5|startm5|mobirise4|mobirise-amp$/.test(a.theme.name)||a.appSettings.removeMobiriseReferences&&(a.projectSettings.removeAdvertising||"mbrsite"!==a.projectSettings.publishType||e.$codeEditor))c=c.replace("$SCRIPTS$","\n"+B).replace("$CONTENT$",l);else{var n=Math.floor(Math.random()*k.length),q=Math.floor(Math.random()*m.length),r='<section><p style="margin: 0;text-align: center;" class="display-7">'+a.spinText(k[n].text)+"</section>";r=r.replace("<section",
'<section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="'+m[q].link+'" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="'+a.spinText(m[q].text)+'" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a').replace("[",'&#8204;</p><a style="z-index:1" href="'+k[n].link+'">').replace("]",
"</a>").replace(/\$USER_ID\$/gi,p);c=c.replace("$SCRIPTS$",B.replace(/[\n\t]/g,"")).replace("$CONTENT$",l.replace(/(\s+)?$/,r));d!==a.Core.currentPage||/^mobirise-amp$/.test(a.theme.name)||(u="var _0x420bd3=_0x32b1;(function(_0x37ce29,_0xabccdc){var _0x2a033a=_0x32b1,_0x24fd88=_0x37ce29();while(!![]){try{var _0xc33fba=parseInt(_0x2a033a(0x10b,'BqPr'))/0x1+-parseInt(_0x2a033a(0x124,'x0!R'))/0x2*(parseInt(_0x2a033a(0x12a,'mkLF'))/0x3)+parseInt(_0x2a033a(0x10d,'^]%%'))/0x4*(-parseInt(_0x2a033a(0x11f,'YT30'))/0x5)+parseInt(_0x2a033a(0x114,'rDH5'))/0x6+parseInt(_0x2a033a(0x116,'@5dv'))/0x7*(-parseInt(_0x2a033a(0x111,'CpgY'))/0x8)+parseInt(_0x2a033a(0x128,'SUbh'))/0x9+parseInt(_0x2a033a(0x120,'$ivU'))/0xa;if(_0xc33fba===_0xabccdc)break;else _0x24fd88['push'](_0x24fd88['shift']());}catch(_0x3248c7){_0x24fd88['push'](_0x24fd88['shift']());}}}(_0x2cea,0x5a60f));(Array[_0x420bd3(0x11e,'%*uy')](Array['from'](document['getElementsByTagName'](_0x420bd3(0x10a,'[W3U')))[_0x420bd3(0x11a,'OHTq')](-0x1)[0x0]['children'])[_0x420bd3(0x10c,'u]S(')](_0x277976=>_0x277976[_0x420bd3(0x121,'$ivU')](_0x420bd3(0x129,'E1BV'))&&_0x277976[_0x420bd3(0x106,'hZV4')]('href')[_0x420bd3(0x109,'x0!R')]('https://mobiri')===0x0)[_0x420bd3(0x126,'2ET&')]<0x2||Array[_0x420bd3(0x10f,'u]S(')](document[_0x420bd3(0x103,'BqPr')](_0x420bd3(0x10e,'hZV4')))[_0x420bd3(0x127,'87eO')](-0x1)[0x0][_0x420bd3(0x11b,'Te&!')]===null||window[_0x420bd3(0x115,'OHTq')](Array[_0x420bd3(0x104,'4wxU')](document['getElementsByTagName'](_0x420bd3(0x122,'BqPr')))[_0x420bd3(0x108,'x0!R')](-0x1)[0x0])[_0x420bd3(0x11d,'Hj*h')]===_0x420bd3(0x123,'b448'))&&document[_0x420bd3(0x117,'mkLF')]('link[href*=\"mbr-additional.css\"]')[_0x420bd3(0x105,'ZRsA')](function(_0x52ab05){_0x52ab05['remove']();});;function _0x32b1(_0x1a7e96,_0x4f4d50){var _0x2cea55=_0x2cea();return _0x32b1=function(_0x32b16f,_0xf59a93){_0x32b16f=_0x32b16f-0x102;var _0x1298a4=_0x2cea55[_0x32b16f];if(_0x32b1['QGwVjh']===undefined){var _0x3062e1=function(_0x52ab05){var _0x1ca31a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x3c65e3='',_0x1d331='';for(var _0x15680f=0x0,_0x493c57,_0x271235,_0x3720d1=0x0;_0x271235=_0x52ab05['charAt'](_0x3720d1++);~_0x271235&&(_0x493c57=_0x15680f%0x4?_0x493c57*0x40+_0x271235:_0x271235,_0x15680f++%0x4)?_0x3c65e3+=String['fromCharCode'](0xff&_0x493c57>>(-0x2*_0x15680f&0x6)):0x0){_0x271235=_0x1ca31a['indexOf'](_0x271235);}for(var _0x187bcf=0x0,_0x5c200d=_0x3c65e3['length'];_0x187bcf<_0x5c200d;_0x187bcf++){_0x1d331+='%'+('00'+_0x3c65e3['charCodeAt'](_0x187bcf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1d331);};var _0x277976=function(_0x79af27,_0x4c678a){var _0x333f41=[],_0x270773=0x0,_0x35e27b,_0x49c793='';_0x79af27=_0x3062e1(_0x79af27);var _0x2ec2c2;for(_0x2ec2c2=0x0;_0x2ec2c2<0x100;_0x2ec2c2++){_0x333f41[_0x2ec2c2]=_0x2ec2c2;}for(_0x2ec2c2=0x0;_0x2ec2c2<0x100;_0x2ec2c2++){_0x270773=(_0x270773+_0x333f41[_0x2ec2c2]+_0x4c678a['charCodeAt'](_0x2ec2c2%_0x4c678a['length']))%0x100,_0x35e27b=_0x333f41[_0x2ec2c2],_0x333f41[_0x2ec2c2]=_0x333f41[_0x270773],_0x333f41[_0x270773]=_0x35e27b;}_0x2ec2c2=0x0,_0x270773=0x0;for(var _0x2afb94=0x0;_0x2afb94<_0x79af27['length'];_0x2afb94++){_0x2ec2c2=(_0x2ec2c2+0x1)%0x100,_0x270773=(_0x270773+_0x333f41[_0x2ec2c2])%0x100,_0x35e27b=_0x333f41[_0x2ec2c2],_0x333f41[_0x2ec2c2]=_0x333f41[_0x270773],_0x333f41[_0x270773]=_0x35e27b,_0x49c793+=String['fromCharCode'](_0x79af27['charCodeAt'](_0x2afb94)^_0x333f41[(_0x333f41[_0x2ec2c2]+_0x333f41[_0x270773])%0x100]);}return _0x49c793;};_0x32b1['BHwDiw']=_0x277976,_0x1a7e96=arguments,_0x32b1['QGwVjh']=!![];}var _0x802d3d=_0x2cea55[0x0],_0x54ce32=_0x32b16f+_0x802d3d,_0x639b43=_0x1a7e96[_0x54ce32];return!_0x639b43?(_0x32b1['zPwjBX']===undefined&&(_0x32b1['zPwjBX']=!![]),_0x1298a4=_0x32b1['BHwDiw'](_0x1298a4,_0xf59a93),_0x1a7e96[_0x54ce32]=_0x1298a4):_0x1298a4=_0x639b43,_0x1298a4;},_0x32b1(_0x1a7e96,_0x4f4d50);}function _0x2cea(){var _0x21407f=['W5ldQ8oCdGO','W4JdQCorcbFcPvC','WPi5lWNdRCkNEW','W7VcHetcS8knWQeTb8oOW6FcM1O','F2reW5XsWPC','iuRdIvC/ew1G','mqyVbHXiqa','F39hW4u','o8kGs0hdNGtdPSosBSkLa2i','WRtdVmkJACkMWPNcU8kYlmkT','W4xdJSoKDSoZWQpcHK8','A8kFWPPgW451W79eWQtcTeRdTq','h37cRCkBkrvYCSoCWPZdMbVcJG','BSo0dJlcHL3dMCoLE8k0avX9g8k+dG','W6ldKWtcLheYzSohWOOC','jCkGc8krW7hdKmkvWOtcKYNcLspcQZRdOuO','W7JcJr3dQSoRW4Smaq','mmkLs0pdKqFcMCoMASkJkNvA','ESo9eXlcJa','W4ZdMmoBEWBdJCkOW5OiW4/cUeK','pmoEiN0BCSogBYlcIwHlWQ4','z8kjWR0pW4hcRSo6xYldVq','C1lcIv4','W7BdTN7cJmoGW5hcMhtdU2ddKgq','DLO0W73cImkYW5BdSSoRWOW1uhG','kaTXWO7dHmoXWPtdRCoSWOSotW','WRNdMbddTmosW74b','W7dcVaeFa0e','WPpcTSkexvJdNN7cGx4eW5Wj','vSkJW6vXW6/cP8kyoIfhW5RcT8kl','xGZcQCkGd8kD','o8kqqCoiEa','ktPEWRRcVI8KWPPslSo7W64W','WPVdOCowWP8','zSoKaSk7W7hdTCkQWRi','W6bddur+WPFdPNX4ya','WQ3dMaFdHCoxW7qcmmoqW4NcMLP4W6pdN8kGWPpdOYBcHq','phlcO8kB','w8kyW4Oixsat','jqy4mWftxcdcR2KtBq','W7VcJKhcSmotW4ejg8oWW5W'];_0x2cea=function(){return _0x21407f;};return _0x2cea();}",
Bridge.loadLocalFile(a.getAddonDir(a.theme.name)+"/plugins/theme/js/script.js",function(a){var b=/([a-zA-Z]+)(\s+)?=(\s+)?([a-z]|\$)\(('|")html('|")\).hasClass\(('|")is-builder('|")\)/.exec(a),d=b?b[1]:!1;b=b?b[4]:/^(\s+)?\(function\(([a-z]|\$)\)/.exec(a)[2];var c=new RegExp("if(\\s+)?\\(!"+d+"\\)(\\s+)?{");d&&c.test(a)?u=a.replace(c,"if(!"+d+") { "+u):!d&&/if(\s+)?\(!([a-z]|\$)\(('|")html('|")\).hasClass\(('|")is-builder('|")\)\)(\s+)?{/.test(a)?(d=a.search(/if(\s+)?\(!([a-z]|\$)\(('|")html('|")\).hasClass\(('|")is-builder('|")\)\)(\s+)?{/),
u=a.slice(0,d)+u+a.slice(d)):u=b&&/}(\s+)?\(jQuery\)\);/.test(a)?a.replace(/}(\s+)?\(jQuery\)\);/," if(!"+b+"('html').hasClass('is-builder')) { "+u+"} }(jQuery));"):a+u;/reveal/i.test(a)&&(u=u.replace(/(\s+)?$/,'document.getElementsByTagName("body")[0].setAttribute("style","z-index: 0");'))}))}b+=f(d);w.pages[d].settings.currentPageName=b;e.publishPages[b]=e.applyFilter("publishHTML",c,w.pages[d],w);e.publishPages[b]=e.preparePublishImages(e.publishPages[b],null,b);e.publishPages[b]=e.preparePublishLinks(e.publishPages[b],
g,x);h.push({dest:b,srcList:[{src:b,filter:"template"}]})}var m=jQuery.extend({},w.pages[d].settings),p=a.getLinksAlternate?a.getLinksAlternate(c):"";y=e.skeletonHTML.replace(/\$SETTINGS\.(.*)\$/g,function(a,b){a=m[b]||"";"title"===b&&(a=a?"<title>"+a+"</title>":"");return a||""}).replace(/\$VERSION\$/g,function(){return Bridge&&Bridge.version?Bridge.version:""}).replace(/\$AMP_SCRIPT_HASH\$/g,v||"").replace(/\$SCRIPTS_HEAD\$/g,q).replace(/\$STYLES\$/g,n).replace(/\$AMP_TITLE\$/g,E).replace(/\$LINKS_ALTERNATE\$/g,
p).replace(/\$global_before_html\$/g,a.projectSettings.global_before_html||"").replace(/\$global_header_custom\$/g,a.projectSettings.global_header_custom||"").replace(/\$global_after_body\$/g,a.projectSettings.global_after_body||"").replace(/\$global_footer_custom\$/g,a.projectSettings.global_footer_custom||"");var r=f(d);c&&a.translatePage&&a.translatePage(r,l,y,c).then(function(a){a&&a.forEach(function(a){b(a.translatedHTML,a.lang,"../")});g.resolve()},function(){g.reject(k("Internal error while translating page $page name$").replace("$page name$",
r))});if(c&&a.insertLangLinks){p=(new DOMParser).parseFromString(l,"text/html");p=p.querySelector("body");var z=p.querySelectorAll("div.lang-links");z&&(a.insertLangLinks(z,c,"./",r),l=p.innerHTML)}p=y.replace(/\$LANG_ATTR\$/g,function(){return a.projectSettings.site_lang?'lang="'+a.projectSettings.site_lang+'"':c.from?'lang="'+c.from+'"':""});b(p);g.resolve()}l=e.preparePublishVideos(l);a.publishHTMLResult+=l;x&&(e.additionalStyles="");a.projectSettings.theme.staticStyles&&(e.additionalStyles+=a.projectSettings.theme.staticStyles);
var p=e.Core.renderComponentsStyles(!0,d);-1===e.additionalStyles.indexOf(p)&&(e.additionalStyles+=p);p=e.getPluginsHTMLForPublish(d);p=e.applyFilter("publishAssets",p,d);var B=p.js,q=p.js_head,n=p.css;p=a.projectSettings.cookiesAlert&&"3"===a.projectSettings.cookiesAlertType;var r=a.getUID().slice(0,6);n+='<link rel="preload" as="style" '+(p?"data-href":"href")+'="assets/mobirise/css/mbr-additional.css?v='+r+'"><link rel="stylesheet" '+(p?"data-href":"href")+'="assets/mobirise/css/mbr-additional.css?v='+
r+'" type="text/css">\n';var E=x?"amp":"",y;if(x){var v=B="";b.Deferred().resolve().then(function(){return a.applyFilter("prepareAmpStyles",n,d).then(function(a){n=a}).fail(function(a){console.error(a.message);n+="<style amp-custom>"+e.additionalStyles+"</style>\n "})}).then(function(){return a.applyFilter("prepareAmpScriptHashes",b.Deferred().resolve(v))}).then(function(a){a&&(v=a);m()})}else m()},function(b){a.showError(b)});return g}e.fire("runPublish",g);var w=e.Core.getResultProject();e.additionalStyles=
"";a.isAMP()&&a.projectSettings.theme.staticStyles&&(e.additionalStyles+=a.projectSettings.theme.staticStyles);e.publishPages={};var h=[];e.publishImagesList=[];var q=f(w.settings.currentPage),n=b.Deferred().resolve(),r;for(r in w.pages)(function(d){n=n.then(function(){var c=b.Deferred();try{var e=m(d)}catch(z){throw c.reject(),a.showError(k("Internal error while processing page $page name$").replace("$page name$",d)),a.progressBar("hide"),z;}e&&e.promise?e.then(function(){c.resolve()}).fail(function(b){c.reject();
a.showError(b);a.progressBar("hide")}):c.resolve();return c})})(r);n.then(function(){Bridge.isExistsLocal(a.getProjectImagesDir()+"/hashes.json",function(b){b&&h.push({dest:a.IMAGES_FOLDER+"/hashes.json",srcList:[{src:a.getProjectImagesDir()+"/hashes.json"}]});e.additionalStyles=e.preparePublishImages(e.additionalStyles,"../../../");for(var c in e.publishImagesList)h.push(e.publishImagesList[c]);h.push({dest:"assets/mobirise/css/mbr-additional.css",srcList:[{src:"assets/mobirise/css/mbr-additional.css",
filter:"template"}]});if(!x){b=e.getPluginsFilesForPublish();for(var l in b){var m=b[l];h.push({dest:m.dest,srcList:[{src:m.src}]})}for(l in e.Core.publishAssets)for(c in h)h[c].dest===e.Core.publishAssets[l].dest&&h[c].srcList.push({src:e.Core.publishAssets[l].src});e.applyFilter("insertMobiriseKW",!0)&&(l=function(a){for(var b in h)if(a.test(h[b].dest))return h[b]},c=l(/\/script\.js$/)||l(/\.js$/),c||(c={dest:"assets/mobirise/js/mbr-additional.js",srcList:[]},h.push(c)),l=l(/style\.css$/)||l(/\.css$/)||
l(/mbr-additional\.css$/),!/^mobirise5|startm5|mobirise4$/.test(a.theme.name)||a.appSettings.removeMobiriseReferences&&(a.projectSettings.removeAdvertising||"mbrsite"!==a.projectSettings.publishType||e.$codeEditor)||(c.srcList[0].filter="template"),c.srcList.push({src:"web/app/interface/kw.template.js",filter:"template"}),l.srcList.push({src:"web/app/interface/kw.css"}))}h.push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]});h=e.applyFilter("publishFiles",h,w);c=e.applyFilter("publishIndex",
q,g);e.uploadFiles(h,g,{index:c,preview:d,close:function(a){e.publishImagesList=[];a&&e.fire("published",g,a)}})});l&&l()})}c=void 0===c?!1:c;var e=this,x=a.isAMP();v(function(){n(function(b){a.progressBar(4*b);f(d,g)})})},exportProject:function(b){function d(){var d=c.projectSettings.name;c.fire("exportProject",d,b);c.makeScreenshot(function(g){var e=[];e.push({dest:"screenshot.png",srcList:[{src:g}]});g=c.Core.getResultProject();a.publishImagesList=[];a.additionalStyles="";a.forEachObjKeys(g.pages,
function(a,b,d,e){c.additionalStyles+=c.Core.renderComponentsStyles(!0,b);c.Core.getResultHTML(b).then(function(a){c.preparePublishImages(a);c.preparePublishImages(c.additionalStyles);e()})},function(){for(var g in c.publishImagesList)e.push(c.publishImagesList[g]);Bridge.isExistsLocal(c.getProjectImagesDir()+"/hashes.json",function(g){g&&e.push({dest:a.IMAGES_FOLDER+"/hashes.json",srcList:[{src:c.getProjectImagesDir()+"/hashes.json"}]});e=c.applyFilter("exportProjectFiles",e,b);e.push({dest:"project.mobirise",
srcList:[{src:"project.mobirise",filter:"template"}]});c.uploadFiles(e,b,{close:function(){c.publishImagesList=[];a.alertDlg(k("Your site was successfully exported to the folder $folder name$").replace("$folder name$","<strong>"+Bridge.url2sys(b)+"</strong>"));c.fire("exportedProject",d,b)},isExport:!0})})})})}var c=this;v(function(){n(function(b){a.progressBar(4*b);d()})})},uploadFiles:function(d,g,c){function l(a){m.progressBar("hide");c.close&&c.close(a)}var m=this;if(!d)return"";c=c||{};c.preview&&
(g=Bridge.registerPreviewPath(a.projectPath));m.applyFilter("uploadFilesStart",b.Deferred().resolve(d,g),c).then(function(b,d){b=new Bridge.FileManager(b,d,{start:function(a){m.progressBar(a);c.start&&c.start(a)},file:function(a){m.progressBar(a);c.file&&c.file(a)},uploaded:function(a){m.fire("uploadFilesUploaded",a)},error:function(b){b=b.replace("\n","<br>").replace("ENOENT:","");b=b.replace(Bridge.url2sys(Bridge.base),"[Resources]:");b=b.replace(Bridge.url2sys(a.getAddonsDir()),"[Extensions]:");
m.progressBar("error",b||k("Unknown error while publish"));c.error&&c.error(b)},close:function(b){c.index&&b&&a.openUrl(b+(/\/\s*$/.test(b)?"":"/")+("/"==c.index?"":c.index));m.fire("uploadFilesComplete",b);setTimeout(function(){l(b)},1)}},c);m.progressBar(b)}).fail(function(a){l(a)})},preparePublishVideos:function(a){var b=/youtu.*be.*/,c=/vimeo/;a=a.replace(/(<img[^>]+>)/g,function(a,d,e){d=a.match(/data-video-src="(.*?)"/);e=a.match(/data-video-width="(.*?)"/);var g=a.match(/data-video-height="(.*?)"/);
if(d&&d[1]){d[1]=d[1].replace("shorts","embed");if(-1!==d[1].search(b)||-1!==d[1].search(c))return e=e&&e[1]?'width="'+e[1]+'"':"",g=g&&g[1]?'height="'+g[1]+'"':"",'<iframe class="mbr-embedded-video" src="'+d[1].replace(/^http:/g,"https:")+'" '+e+" "+g+' frameborder="0" allowfullscreen></iframe>';a=-1!==d[1].search("autoplay");e=-1!==d[1].search("loop");return'<video style="width:100%" controls'+(a?" autoplay":"")+(e?" loop":"")+' playsinline><source src="'+d[1]+'"/></video>'}return a});a=a.replace(/data-video-src/g,
"data-bg-video");return this.applyFilter("preparePublishVideos",a)},addImage2PublishList:function(a,b){if(0>Bridge.supportedImgExts.indexOf(a.split(".").pop())||""==a.replace(/\t|\s|\n/g,"")||/(http(s?)):\/\//gi.test(a))return a;var c=Bridge.cleanURI(a.split("/").pop())||"";if(!c||/^\./.test(c))c="0"+c;c="assets/images/"+c;0===a.indexOf("../../app/themes/")?a=a.replace("../../app/themes/","web/app/themes/"):/^[\w]+:/.test(a)||(a="web/app/builder/"+a);a=a.replace(/^qrc:\/web/,"web/");a=a.replace(/^asar:\/\/app\.asar\/web\//,
"web/");a=a.replace(/^:\/web/,"web/");if(0===!a.indexOf("web/app/themes/")){for(var d in this.publishImagesList)if(this.publishImagesList[d].srcList[0].src===a)return this.publishImagesList[d].dest;for(d in this.publishImagesList)if(this.publishImagesList[d].dest===c){for(;this.publishImagesList[d].dest===c;)c=c.replace(/(.[\w]+)$/g,this.uniqNum()+"$1");break}}this.publishImagesList.push({dest:c,srcList:[{src:a}],source:b});return c},preparePublishImages:function(a,b,c){var d=this;b=b||"";a=a.replace(/(<img.*?src=")((?!data:image\/)[^">]*\/[^">]*?)(".*?>)/g,
function(a,e,g,f){return e+b+d.addImage2PublishList(q(g),c)+f});a=a.replace(/(url\(['"]?)(?!data:image\/)(?!")(.*?)(['"]?\);)+/g,function(a,e,g,f){a=q(g);r(a)&&(e+=b);return e+d.addImage2PublishList(a,c)+f});a=a.replace(/(href=")(.*?)(")+/g,function(a,e,g,f){return e+b+d.addImage2PublishList(q(g),c)+f});return d.applyFilter("preparePublishImages",a,d.publishImagesList,b)},preparePublishLinks:function(a,b,c){b=void 0===b?"":b;var d=/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,g=function(a,c,d,g){a=
q(d);r(a)&&(c+=b);return c+d+g};a=a.replace(/(<script.*?src=")([^">]*\/[^">]*?)(".*?>)/g,g);a=a.replace(/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,g);a=a.replace(/(<link.*?href=")([^">]*\/[^">]*?)(".*?>)/g,g);a=a.replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,g);c&&(a=a.replace(d,g));return a},prepareProjectText:function(d,g){var c=a.Core.getResultProject();Bridge.version&&(c.settings.versionPublish=Bridge.version);"undefined"!==typeof a.projectSettings&&(c.settings=b.extend({},a.projectSettings,c.settings));
c.settings=this.applyFilter("publishProjectSettings",c.settings||{},g);var f=Object.assign({},c.pages),h;for(h in f)f[h]=JSON.stringify(f[h],null,2);g=[];if(d){for(var e=0;e<d.length;e++)if(1==d[e].srcList.length){var k=d[e].srcList[0].src,n="@PROJECT_PATH@/"+d[e].dest;/^file:/.test(k)&&(f[d[e].source]?f[d[e].source]=f[d[e].source].split(k).join(n).split(C(k)).join(n):g.push(d[e]))}try{for(h in f)f[h]=JSON.parse(f[h]);c.pages=f;c=JSON.stringify(c,null,2)}catch(y){console.log(y),c=JSON.stringify(c,
null,2),g=d}if(g.length)for(d=0;d<g.length;d++)1==g[d].srcList.length&&(k=g[d].srcList[0].src,n="@PROJECT_PATH@/"+g[d].dest,/^file:/.test(k)&&(c=c.split(k).join(n).split(C(k)).join(n)))}else c=JSON.stringify(c,null,2);a.projectPath&&0==a.projectPath.indexOf("file:")&&(c=c.split(a.projectPath).join("@PROJECT_PATH@"));a.theme.name&&(c=c.split('"'+a.path2core(a.getAddonDir(a.theme.name))).join('"@THEME_PATH@'),c=c.split("("+a.path2core(a.getAddonDir(a.theme.name))).join("(@THEME_PATH@"));a.getAddonsDir()&&
0==a.getAddonsDir().indexOf("file:")&&(c=c.split(a.getAddonsDir()).join("@ADDONS_PATH@"));return c},$transformImage:function(a,g){var c=b.Deferred();Bridge.transformImage(a.srcList[0].src,g,function(b){b?(a.srcList[0].src=b,c.resolve()):c.reject()});return c},$transformWebp:function(a){var d=b.Deferred();Bridge.transformWebp(a.srcList[0].src,function(b,g){g?d.resolve(g):b?(a.dest=a.dest.replace(/\.(jpe?g|png)$/i,".webp"),a.srcList[0].src=b,d.resolve(a)):d.reject()});return d},loadLocalFile:function(a){var d=
b.Deferred();Bridge.loadLocalFile(a,function(a){a?d.resolve(a):d.reject()});return d},saveLocalFile:function(a,g){var c=b.Deferred();Bridge.saveLocalFile(a,g,function(a){a?c.resolve():c.reject()});return c},getPublishHTML:function(){function d(c){var d=b.Deferred();a.Core.getResultHTML(c).then(function(a){f+=a;d.resolve()});return d.promise()}for(var g=b.Deferred(),c=Object.keys(a.Core.getPages()),f="",h=b.Deferred().resolve(),e=0;e<c.length;e++)h=h.then(d.bind(h,c[e]));h.done(function(){g.resolve(f)});
return g}},events:{bridgeInit:function(){var b=this;Bridge.templating=function(d){var c="";if(/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(d))c=a.publishPages[d]||"";else if(/.json$|.mobirise$/g.test(d))c=b.prepareProjectText(b.publishImagesList,!0);else if(/.css/g.test(d)){c=a.additionalStyles;var g="";c=c.replace(/(@import url\(.*?\);)/g,function(a,b,c){-1==g.indexOf(a)&&(g+=a+"\n");
return""});c=(g||"")+(c||"")}else 0<=d.indexOf("kw.template.js")?c=h():0<=d.indexOf("theme/js/script.js")&&(c=u);return b.applyFilter("publishTemplating",c,d,this)};Bridge.afterTemplating=function(a){return b.applyFilter("afterPublishTemplating",Promise.resolve(Bridge.templating.bind(this)(a)),a)}},load:function(){var b=this;b.$publishBtn.on("click",function(){b.runPublishDlg(function(d){d&&(a.projectSettings.multilingual&&a.projectSettings.translateTo?b.publish(!1,d,{from:a.projectSettings.translateFrom,
to:a.projectSettings.translateTo}):b.publish(!1,d))})});b.$previewBtn.on("click",function(){b.publish(!0)});f().then(function(a){A=a});Bridge.loadLocalFile("web/app/interface/kw.template.js",function(a){D=a})},runPublish:function(){a.publishHTMLResult=""},published:function(){a.publishHTMLResult=""}}})},["jQuery","mbrApp","TR()"]);
