var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,d,c){b instanceof String&&(b=String(b));for(var f=b.length,e=0;e<f;e++){var g=b[e];if(d.call(c,g,e,b))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,c){b!=Array.prototype&&b!=Object.prototype&&(b[d]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,c,f){if(d){c=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var e=b[f];e in c||(c[e]={});c=c[e]}b=b[b.length-1];f=c[b];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
defineM("app-addons-messenger",function(b,d,c,f){var e={},g=function(a){this.params=a||{};this._subscribers=[];this.addSubscriber=this.addSubscriber.bind(this);this.removeSubscriber=this.removeSubscriber.bind(this);this.sendEventToSubs=this.sendEventToSubs.bind(this)};g.prototype.addSubscriber=function(a){if("function"!==typeof a)throw Error("Invalid subscriber type");this._subscribers.push(a)};g.prototype.removeSubscriber=function(a){if("function"!==typeof a)throw Error("Invalid subscriber type");
this._subscribers=this._subscribers.filter(function(a){return a!==funk})};g.prototype.sendEventToSubs=function(a){var b=this;this._subscribers.map(function(c){return c.call(b,a)})};c=function(){this._buses={};this.addBus=this.addBus.bind(this);this.removeBus=this.removeBus.bind(this);this.isExistBus=this.isExistBus.bind(this);this.subscribe=this.subscribe.bind(this);this.unsubscribe=this.unsubscribe.bind(this);this.postMessageToEventBus=this.postMessageToEventBus.bind(this);this.postMessageToHandler=
this.postMessageToHandler.bind(this);this.eventListener=this.eventListener.bind(this)};c.prototype.addBus=function(a){a=new g(a);if(!a.params.name||"string"!==typeof a.params.name)throw Error("invalid eventBus name");if(!(a.params.name in this._buses))return this._buses[a.params.name]=a};c.prototype.removeBus=function(a){if(!a||!this._buses.find(function(b){return b.name===a}))throw Error("eventBus "+a+" not found");this._buses=this._buses.filter(function(b){return b.name!==a})};c.prototype.isExistBus=
function(a){return a&&"string"===typeof a?a in this._buses:!1};c.prototype.subscribe=function(a,b){a&&"string"===typeof a&&this.isExistBus(a)&&"function"===typeof b&&this._buses[a].addSubscriber(b)};c.prototype.unsubscribe=function(a,b){a&&"string"===typeof a&&this.isExistBus(a)&&"function"===typeof b&&(this._subscribers=this._subscribers.filter(function(a){return a!==b}))};c.prototype.postMessageToEventBus=function(a){throw Error("event must be an object");};c.prototype.postMessageToHandler=function(a,
b){b=void 0===b?function(){}:b;if(!a||"object"!==typeof a)return b(Error("event must be an object"));if(!(a.name in this._buses))return b(Error("Unknown eventBus name:"+a.name));if(!(a.method in this._buses[a.name].params)||"function"!==typeof this._buses[a.name].params[a.method])return b(Error("Unknown eventBus method:"+a.method));try{this._buses[a.name].params[a.method].call(this,a.data).then(function(a){b(null,a)}).catch(function(a){throw a;})}catch(k){b(k)}};c.prototype.eventListener=function(a){a=
void 0===a?{}:a;"message"===a.type&&a.data.name in this._buses&&this.postMessageToHandler(a.data,function(b,c){if(b)throw b;c&&a.source.postMessage({name:a.data.name,method:a.data.method,data:c},a.origin)})};var h=new c;d.regExtension({name:"addons-messenger",global:{createEventBus:h.addBus,getEventBusToken:function(a){var c;return function(d){return d||!e[a]||Date.now()>=c?f.post("auth",{target:a}).then(function(b){c=Date.now()+1E3*(b.expires_in-30);return e[a]=b.access_token}).catch(function(a,
c){console.log(a,c);return b.Deferred().reject(Error(a)).promise()}):jQuery.when(e[a])}},postMessageToEventBus:h.postMessageToEventBus},events:{loaded:function(){window.addEventListener("message",h.eventListener,!1);d.createEventBus({name:"electric-blaze-app",getToken:d.getEventBusToken("https://electricblaze.com")})}}})},["jQuery","mbrApp","TR()","mbrServer"]);
