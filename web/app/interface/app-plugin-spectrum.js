defineM("app-plugin-spectrum",function(d,c,f){c.regExtension({name:"plugin-spectrum",global:{initSpectrum:function(){var g=this,e=function(a,b){b=b.map(function(a){return a.toUpperCase()});if(-1==b.indexOf(a.toUpperCase()))return!0};d(".spectrum").each(function(){d(this).spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:f("More")+" >",togglePaletteLessText:f("Less")+" <",maxSelectionSize:1,palette:g.getThemeColorsSet(7),
move:function(a){d(this).val(a.toHexString());g.changeComponentParams(this)},hide:function(a){if(a){var b;(b=c.projectSettings.theme.additionalSetColors)?e(a.toHexString(),b)&&e(a.toHexString(),c.getThemeColorsSet(7)[0])&&(7>b.length?b.push(a.toHexString()):(b.unshift(a.toHexString()),b.pop())):e(a.toHexString(),c.getThemeColorsSet(7)[0])?c.projectSettings.theme.additionalSetColors=[a.toHexString()]:c.projectSettings.theme.additionalSetColors=[]}}})})}},events:{preparedComponentParams:function(){this.initSpectrum()},
hideComponentParams:function(){d(".spectrum").spectrum("hide")},loadedProject:function(){c.Core.$body.children('input[type="text"]').val("")}}})},["jQuery","mbrApp","TR()"]);
