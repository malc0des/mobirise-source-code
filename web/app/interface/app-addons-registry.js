var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){a!=Array.prototype&&a!=Object.prototype&&(a[d]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,e,g){if(d){e=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var h=a[g];h in e||(e[h]={});e=e[h]}a=a[a.length-1];g=e[a];d=d(g);d!=g&&null!=d&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,e){return a===e?0!==a||1/a===1/e:a!==a&&e!==e}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,e){var d=this;d instanceof String&&(d=String(d));var h=d.length;e=e||0;for(0>e&&(e=Math.max(e+h,0));e<h;e++){var k=d[e];if(k===a||Object.is(k,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,d,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,e){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,e||0)}},"es6","es3");
$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,d){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};
$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+d++,e)}var d=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,g={next:function(){if(e<a.length){var h=e++;return{value:d(h,a[h]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,e){return[a,e]})}},"es6","es3");
$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var e=[],d;for(d in a)$jscomp.owns(a,d)&&e.push(a[d]);return e}},"es8","es3");
defineM("app-addons-registry",function(a,d,e,g){var h="cookies-alert default facebook-comments google-analytics instagram-feed mobirise-amp mobirise3 purity seo social-feed soundcloud translator".split(" "),k=function(a){if("number"===typeof a&&isFinite(a))return a;if("string"===typeof a&&0<a.length){var b=/^(-?(?:\d+)?\.?\d+) *([smhd]|$)/i.exec(a);if(!b)throw new TypeError("This format is not supported");a=parseFloat(b[1]);switch(b[2].toLowerCase()){case "d":a*=24;case "h":a*=60;case "m":a*=60;case "s":a*=
1E3}return a}throw new TypeError("val is not a non-empty string or a valid number");},m=function(){function c(b){this.props=[a.extend({__source:b&&b.__source||l.create(),__received:Date.now()},b)]}c.prototype.extend=function(a){if(!(a instanceof c))throw new TypeError("addon must be instance of Addon");a.props.map(function(a){var b=this.props,f;for(f in b)if(b[f].__source===a.__source){b[f].__received<a.__received&&(b[f]=a);return}b[a.__source.hasAuthority()?"unshift":"push"](a)},this);return this};
c.prototype.get=function(a,f){if("dir"===a)return d.getAddonDir(this.get("name"));for(var b in this.props)if((!f||this.props[b].__source.hasAuthority())&&void 0!==this.props[b][a])return this.props[b][a]};c.prototype.has=function(){return null!=this.get.apply(this,arguments)};c.prototype.isFree=function(){var a=this.get("premium",!0);return null!=a?!a:d.AddonsRegistry&&d.AddonsRegistry.isSynchronized()||h.includes(this.get("name"))||this.isSystem()};c.prototype.isPremium=function(){return!this.isFree()};
c.prototype.hasLifetimeLicense=function(){return this.isPremium()&&this.isPaid()&&(this.get("expiredDate",!0)||Infinity)<Date.parse("2021-02-27")};c.prototype.isExpired=function(){return this.isPremium()&&(this.get("expired",!0)||(this.get("expiredDate",!0)||0)<Date.now())};c.prototype.isPaid=function(){return!!this.get("paid",!0)};c.prototype._getPropsBy=function(a){var b="string"===typeof a,c;for(c in this.props){var d=this.props[c];if(b?d.__source.get("name")===a:d.__source===a)return d}};c.prototype.reduceTo=
function(b){if(b=this._getPropsBy(b))return new this.constructor(a.extend({},b))};c.prototype.isFrom=function(a){return!!this._getPropsBy(a)};c.prototype.isSystem=function(){return this.isFrom("system")};c.prototype.isInstalled=function(){return this.isSystem()||this.isFrom("installations")};c.prototype.add=function(a){if(!(a instanceof l))throw new TypeError("source must be instance of Source");return a.extract(this.get("name")).then(function(a){return this.extend(a)}.bind(this))};c.prototype.toJSON=
function(){return this.props.reduce(function(a,f){for(var b in f)b in a||0===b.indexOf("__")||(a[b]=f[b]);return a},{})};return c}(),l=function(){function c(a){this._settings=a||{};this._active=!0;this._read=this._read||this._settings.read}c.create=function(a){return new this(a)};c.prototype.set=function(a,f){this._settings[a]=f;return this};c.prototype.get=function(a){return this._settings[a]};c.prototype.hasAuthority=function(){return!!this.get("authoritative")};c.prototype._fill=function(){if(this._active&&
this.registry&&"ready"===this._state){var b=this;this._state="busy";try{var f=this._read?this._read():a.when([]);if(!f||"function"!==typeof f.then)throw Error("_read() method should return promise");}catch(p){f=a.Deferred().reject(p)}f.then(null,function(b){console.error(b);return a.when([])}).then(function(f){for(var c in f)b.registry.add(new m(a.extend({__source:b},f[c])));b._state="depleted";b._defDepleted.resolve(b)})}};c.prototype.bind=function(b){if(!(b instanceof q))throw new TypeError("registry must be instance of AddonsRegistry");
this.registry!==b&&(this.registry=b,this._state="ready",this._defDepleted=a.Deferred(),this._active&&setTimeout(this._fill.bind(this),1));return this};c.prototype.isPaused=function(){return!this._active};c.prototype.pause=function(){this._active=!1;return this};c.prototype.resume=function(){this._active||(this._active=!0,this._fill());return this};c.prototype.depleted=function(){if(!this.registry)throw Error("This source is not bound to registry");return this._defDepleted.promise()};c.prototype.entries=
function(){return(this.registry&&this.registry.entries()||[]).filter(function(a){return a.isFrom(this)},this)};c.prototype.extract=function(b){if(!this._settings.readByName)throw Error("settings.readByName is not defined");try{var f=this._settings.readByName.call(this,b);if(!f||"function"!==typeof f.then)throw Error("readByName() method should return promise");}catch(p){f=a.Deferred().reject(p)}return f.then(function(b){return new m(a.extend({__source:this},b))}.bind(this))};return c}();l.external=
function(c){function b(a){c.apply(this,arguments);if(!this._settings.read)throw Error("settings.read is not defined");}b.create=c.create;b.prototype=Object.create(c.prototype);b.prototype.constructor=b;b.prototype.expire=function(){this.get("cache")&&$Bridge.removeLocal(this.get("cache")).then(null,a.noop);return this};b.prototype._verify=function(b,c){return b&&a.isArray(b.data)&&b.meta&&b.meta.time&&b.meta.signature?c?a.when(b):this.get("account")?$Bridge.verify(JSON.stringify([[["time",b.meta.time],
["account",this.get("account").email.toLowerCase()]],b.data.map(function(a){return a&&[["premium",a.premium],["status",a.status],["type",a.type],["name",a.name],["paid",a.paid],["expired",a.expired],["expiredDate",a.expiredDate]]})]),b.meta.signature).then(function(f){return f?b:a.Deferred().reject(Error("Invalid signature"))}):a.Deferred().reject(Error("Account is not defined")):a.Deferred().reject(Error("Invalid response"))};b.prototype._load=function(){return this.get("cache")?$Bridge.getLocalJSON(this.get("cache")).then(function(a){return this._verify(a)}.bind(this)).then(function(b){return Date.now()-
1E3*b.meta.time<k("4 days")?b:a.Deferred().reject(Error("Cache is out of date"))}).then(function(b){var c=Date.now(),f="number"===typeof b.meta.localTime?b.meta.localTime:0;c=c>f&&c-f<k("5 minutes")?"low":c>f&&c-f<k("3 days")?"medium":"high";return"low"===c?b:a.Deferred().reject(a.extend(Error("Cache needs update"),{code:"CacheNeedsUpdate",cache:b,priority:c}))}):a.Deferred().reject(Error("Cache not configured"))};b.prototype._save=function(b){return this.get("cache")?$Bridge.saveLocalFile(this.get("cache"),
JSON.stringify(b)).then(function(){return b},function(c){console.error(c);return a.when(b)}):a.when(b)};b.prototype._getItems=function(a){return a.data.filter(function(a){return"theme"===a.type||"plugin"===a.type}).map(function(b){b.__received=1E3*a.meta.time;"expiredDate"in b&&(b.expiredDate*=1E3);return b})};b.prototype._lazyLoad=function(b){b=this._getItems(b);for(var c in b)this.registry.add(new m(a.extend({__source:this},b[c])))};b.prototype._read=function(){var b=this;return this._load().then(null,
function(c){var d=b._settings.read.call(b).then(function(a){return b._verify(a,!0)},function(c,d){"string"===typeof c&&(c=a.extend(Error(c),{code:d}));b.set("lastError",c);return a.Deferred().reject(c)}).then(function(a){a.meta.localTime=Date.now();return b._save(a)});if(c&&"CacheNeedsUpdate"===c.code){if("high"!==c.priority)return d.then(b._lazyLoad.bind(b),a.noop),a.when(c.cache);d=d.then(null,function(){return a.when(c.cache)})}return d}).then(function(a){return b._getItems(a)},function(c){b.set("authoritative",
!1);return a.Deferred().reject(c)})};return b}(l);var q=function(){function c(b){b||(b={});this._addons={};this._sources=(b.sources||[]).map(function(a){b.pause&&a.pause();return a.bind(this)},this);this._promiseReady=a.when.apply(a,this._sources.map(function(a){return a.depleted()})).then(function(){return this}.bind(this))}c.prototype.resume=function(){this._sources.forEach(function(a){a.resume()});return this};c.prototype.add=function(a){if(!(a instanceof m))throw new TypeError("addon must be instance of Addon");
var b=a.get("name");this._addons[b]=this.has(b)?this.get(b).extend(a):a;for(var c in a.props)a.props[c].__source.hasAuthority()&&(this._synchronized=Math.max(a.props[c].__received,this._synchronized||0));return this};c.prototype.source=function(a){for(var b in this._sources)if(this._sources[b].get("name")===String(a))return this._sources[b]};c.prototype.ready=function(){return this._promiseReady};c.prototype.isReady=function(){return"pending"!==this._promiseReady.state()};c.prototype.isSynchronized=
function(){return null!=this._synchronized};c.prototype.synchronizedLessThan=function(a){return this.isSynchronized()?Date.now()-this._synchronized<k(a):!1};c.prototype.synchronizedMoreThan=function(a){return this.isSynchronized()?Date.now()-this._synchronized>k(a):!0};c.prototype.get=function(a){return this._addons[a]};c.prototype.getOrCreate=function(a){return this.get(a)||new m({name:a})};c.prototype.has=function(a){return!!this._addons[a]};c.prototype.entries=function(){return Object.values(this._addons)};
return c}(),n=new q({pause:!0,sources:[l.create({name:"system",read:function(){return a.when(d.getBuildinAddons())}}),l.create({name:"installations",read:function(){var c=a.Deferred();d.getAddons(c.resolve);return c.promise()}}),l.create({name:"params.json",readByName:function(c){return $Bridge.getLocalJSON(d.getAddonDir(c)+"/params.json").then(function(b){return b||a.Deferred().reject(Error("Not found"))})}}),l.external.create({name:"mobirise.com",authoritative:!0,read:function(){return g.addons({sign:1})}})]});
d.on(["accountInited","signedin"],function(){var a=d.getUserInfo();a&&(n.source("mobirise.com").set("account",a).set("cache",d.getAddonsDir()+"/registry.json"),n.resume())});d.regExtension({name:"addons-registry",events:{redeemActivated:function(){n.source("mobirise.com").expire()}},global:{AddonsRegistry:n}})},["jQuery","mbrApp","TR()","mbrServer"]);
