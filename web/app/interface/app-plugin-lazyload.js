var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(c.call(b,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
defineM("app-plugin-lazyload",function(a,c,b){function d(f){var b=a.Deferred().resolve();f.src?b.resolve():(f.src=f.getAttribute("data-src"),f.removeAttribute("data-src"),a(f).one("load",function(){b.resolve()}),a(f).one("error",function(){b.resolve()}));return b.promise()}function e(b){var f=a.Deferred().resolve();a(b).closest(".app-component").attr("data-lazyload-stage","loading");a(b).find("img").each(function(a,b){f=f.then(d.bind(f,b))});f.then(function(){a(b).closest(".app-component").attr("data-lazyload-stage",
"complete");c.Core.$body.trigger("add.cards")});return f.promise()}var g=0,h=new IntersectionObserver(function(b,c){b.forEach(function(b){0<b.intersectionRatio&&(a(b.target).closest(".app-component").is('[data-lazyload-stage="complete"]')||e(b.target))})},{rootMargin:"0px",threshold:.1});c.regExtension({name:"plugin-lazyload",events:{loadedComponent:function(b,c,d,e){e||(b=d.find("[data-app-component-id="+b._id+"]"),c=d.find(".app-component").length,"complete"!==b.attr("data-lazyload-stage")&&(b.attr("data-lazyload-stage",
"started"),g++,g===c&&(b.find("img").each(function(){this.complete||(a(this).attr("data-src",a(this).attr("src")),a(this).removeAttr("src"))}),d.find('[data-lazyload-stage="started"] .app-component-content').each(function(a,b){h.observe(b)}))))},loadedProject:function(a){}}})},["jQuery","mbrApp","TR()"]);
