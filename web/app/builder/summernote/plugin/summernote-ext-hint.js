var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,g,d){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var e=a[c];if(g.call(d,e,c,a))return{i:c,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,g,d){a!=Array.prototype&&a!=Object.prototype&&(a[g]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,g,d,b){if(g){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in d||(d[c]={});d=d[c]}a=a[a.length-1];b=d[a];g=g(b);g!=b&&null!=g&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){var g=a.summernote.core.range,d=[38,40,13];a.summernote.addPlugin({name:"hint",match:/[a-z]+/g,template:null,content:null,load:null,scrollTo:function(b){var c=b.parent();c[0].scrollTop=b[0].offsetTop-c.innerHeight()/2},moveDown:function(b){var c=b.find(".active").index();this.activate(b,-1===c?0:(c+1)%b.children().length)},moveUp:function(b){var c=b.find(".active").index();this.activate(b,-1===
c?0:(c-1)%b.children().length)},activate:function(b,c){c=c||0;0>c&&(c=b.children().length-1);b.children().removeClass("active");b=b.children().eq(c);b.addClass("active");this.scrollTo(b)},replace:function(b){var c=b.data("wordRange"),a=b.find(".active");a=this.content(a.data("item"));"string"===typeof a&&(a=document.createTextNode(a));b.removeData("wordRange");c.insertNode(a);g.createFromNode(a).collapse().select()},searchKeyword:function(b,a){this.match.test(b)?(b=this.match.exec(b),this.search(b[1],
a)):a()},createTemplate:function(b){var c=[];b=b||[];for(var e=0,f=b.length;e<f;e++){var d=a('<a class="list-group-item"></a>');d.append(this.template(b[e]));d.data("item",b[e]);c.push(d)}c.length&&c[0].addClass("active");return c},search:function(a,c){c()},init:function(b){var c=this,e=b.holder(),f=a("<div />").addClass("hint-group").css({position:"absolute","max-height":150,"z-index":999,overflow:"hidden",display:"none",border:"1px solid gray","border-radius":"5px"});f.on("click",".list-group-item",
function(){c.replace(f);f.hide();e.summernote("focus")});a(document).on("click",function(){f.hide()});e.on("summernote.keydown",function(a,b){if("block"!==f.css("display"))return!0;40===b.keyCode?(b.preventDefault(),c.moveDown(f)):38===b.keyCode?(b.preventDefault(),c.moveUp(f)):13===b.keyCode&&(b.preventDefault(),c.replace(f),f.hide(),e.summernote("focus"))});var g=null;e.on("summernote.keyup",function(a,h){if(-1<d.indexOf(h.keyCode)){if(13===h.keyCode&&"block"===f.css("display"))return!1}else clearTimeout(g),
g=setTimeout(function(){var a=e.summernote("createRange").getWordRange();c.searchKeyword(a.toString(),function(d){if(d)if(d&&!d.length)f.hide();else{b.popover().append(f);var e=a.getClientRects();e=e[e.length-1];f.html(c.createTemplate(d)).css({left:e.left,top:e.top+e.height}).data("wordRange",a).show()}else f.hide()})},c.throttle)});this.load(f)},throttle:50,events:{ENTER:function(a,c,d){"block"!==d.popover().find(".hint-group").css("display")&&d.holder().summernote("insertParagraph");return!0}}})});
