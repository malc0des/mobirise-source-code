var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,d){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+d++,b)}var d=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var c=b++;return{value:d(c,a[c]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,d,b,e){if(d){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var c=a[e];c in b||(b[c]={});b=b[c]}a=a[a.length-1];e=b[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,d,b){a instanceof String&&(a=String(a));for(var e=a.length,c=0;c<e;c++){var f=a[c];if(d.call(b,f,c,a))return{i:c,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var d=this;d instanceof String&&(d=String(d));var c=d.length;b=b||0;for(0>b&&(b=Math.max(b+c,0));b<c;b++){var f=d[b];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,d,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
(function(a,d){var b,e=a("#insertBefore");d.regExtension({name:"components-load",global:{clearBlocks:function(){this.fire("clearBlocks");this.$template.html("");this.fire("clearedBlocks")},prepareComponent:function(a){var c="";if(("secondary"==d.theme.type?0:"undefined"===typeof d.components[a._name])||"undefined"===typeof a._id)return c;var g=!a._noDrag,b=a._params;c+=['<div class="app-component'+(g?"":" no-sortable")+(a._positionAbsolute?" pos-absolute":"")+'" data-app-component-id="'+a._id+'"'+
(a._alwaysBottom?' data-app-always-bottom="true"':"")+(a._alwaysTop?' data-app-always-top="true"':"")+">",'<div class="app-component-menu"><div class="app-component-edit">',g?'<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>':"","object"===typeof b&&b&&Object.keys(b).length?'<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="Block Parameters"></span>':"",'<span class="mbr-btn component-remove mbr-icon-trash" data-tooltipster="bottom" title="Remove Block"></span><span class="mbr-btn component-show-more mbr-icon-horizontal-ellipsis" data-tooltipster="bottom" title="Show More"></span></div></div><div class="app-component-content"></div></div>'].join("");
return this.applyFilter("prepareComponent",c,a)},prepareAllComponents:function(a){var c="";a=a.filter(function(a){return Object.keys(d.APP.restrictedAddons).length?!d.APP.restrictedAddons[a.alias]:!0});for(var b in a)a[b]._alwaysTop&&(c+=this.prepareComponent(a[b]));for(b in a)a[b]._alwaysBottom||a[b]._alwaysTop||(c+=this.prepareComponent(a[b]));for(b in a)a[b]._alwaysBottom&&(c+=this.prepareComponent(a[b]));return c},publishAssets:[],prepareComponentAssets:function(c){var b=d.components[c],g=(b.alias?
d.APP.getAddonDir(b.alias):this.theme.pathExport+"/components")+"/"+c,k=b.alias?g:this.theme.pathCore+"/components/"+c;b._css&&(this.publishAssets.push({src:g+"/style.css",dest:"assets/mobirise/css/style.css"}),a("#CSS-"+c).length||e.before('<link id="CSS-'+c+'" rel="stylesheet" href="'+k+'/style.css">'));b._js&&(this.publishAssets.push({src:g+"/script.js",dest:"assets/mobirise/js/script.js"}),a("#JS-"+c).length||e.before('<script id="JS-'+c+'" src="'+k+'/script.js">'))},loadEachComponent:function(c,
b,g,k,e){var h=c._name;if(d.isSecondaryComponent(c)&&c._cid&&!c._customHTML)console.log("Error: component '"+h+"' is broken");else if(e&&d.isSecondaryComponent(c)&&(c=a.extend(!0,{},c)),void 0===c._id)console.log("Error: component '"+h+"' is not initialized");else if(c._sourceTheme||(c._sourceTheme=d.theme.name),d.APP.accountMode.isOffline()&&!d.APP.isBuildInAddon(c._sourceTheme))console.log("Error: component '"+h+"' from "+c._sourceTheme+" needs account information. Unavailable in the offline mode.");
else if(h=this.applyFilter("loadComponentTemplate",d.APP.cachedTemplates[h]||"",c,e,c._styles||{})){if("undefined"===typeof c._anchor){var f=c._name.replace(/^pro\./i,"");f=f.replace(/\./g,"_")+"-";c._anchor=f+this.getUniqCompName()}this.fire("loadComponent",c,k,b);h=a(document.createElement("DIV")).html(h).find("> *");h.find('[data-app-edit="content"], [data-app-edit="full"], [data-app-edit="buttons"], [data-app-edit="menu"]').each(function(){a(this).attr("mbr-content-edit",a(this).attr("mbr-html"))});
c._checkPublish=function(){return e};rivets.bind(h,c);b.find("[data-app-component-id="+c._id+"]").find("> .app-component-content").html(h);this.fire("loadedComponent",c,k,b,e);if(e&&c._publishFilter)try{c._publishFilter(b.find("[data-app-component-id="+c._id+"] > .app-component-content"),g)}catch(l){console.error("Error of _publishFilter of component("+c._id+") on the page("+k+"):",l)}}},render:function(a,e){var c=this;clearTimeout(b);b=setTimeout(function(){c.fire("render",a);try{if("undefined"!==
typeof a){var b=c.getComponent(a);c.loadEachComponent(b,c.$template,c.resultJSON[c.currentPage],c.currentPage,!1);if("undefined"!==typeof b._onParamsChange)try{b._onParamsChange(c.$template.find("[data-app-component-id="+a+"] > .app-component-content"))}catch(m){console.log("Error execution _onParamsChange of compoment(_name=",b&&b._name,", _id-",b&&b._id,"):",m)}}else{c.clearBlocks();var f=c.resultJSON[c.currentPage].components,h=c.prepareAllComponents(f),g=[],l=[];c.$template.append(h);for(var n in f)if(b=
f[n],void 0!==b._id)if(d.isSecondaryComponent(b)&&b._cid&&!b._customHTML)console.log("Error: component '"+b._name+"' is broken"),g.push(b._id);else if(b.alias&&d.APP.restrictedAddons[b.alias])console.log("Error: component '"+b._name+"' is restricted"),l.push(b._id);else if(c.loadEachComponent(b,c.$template,c.resultJSON[c.currentPage],c.currentPage,!1),"undefined"!==typeof b._onParamsChange)try{b._onParamsChange(c.$template.find("[data-app-component-id="+b._id+"] > .app-component-content"))}catch(m){console.log("Error execution _onParamsChange of compoment(_name=",
b&&b._name,", _id-",b&&b._id,"):",m)}g.length&&c.showDialog({title:d.APP.TR("Broken blocks were found. Remove them?"),cancelLabel:d.APP.TR("Skip"),successLabel:d.APP.TR("Remove"),success:function(){c.resultJSON[c.currentPage].components=f.filter(function(a){return!g.includes(a._id)});d.APP.runSaveProject()},cancel:function(){}});l.length&&(c.resultJSON[c.currentPage].components=f.filter(function(a){return!l.includes(a._id)}),d.APP.runSaveProject())}}catch(m){console.log(m)}c.fire("rendered",a);"function"===
typeof e&&e()},50)}},events:{}})})(jQuery,mbrAppCore);
