var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,b){a instanceof String&&(a=String(a));for(var f=a.length,e=0;e<f;e++){var k=a[e];if(d.call(b,k,e,a))return{i:e,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,b,f){if(d){b=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in b||(b[e]={});b=b[e]}a=a[a.length-1];f=b[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(a,d){function b(){for(var a in d.APP.iconFonts)return!0;return!1}var f={"class":"mbr-iconfont",linkInNewWindow:!1},e,k;for(k in a.summernote.plugins)"iconFont"==a.summernote.plugins[k].name&&(e=a.summernote.plugins[k]);e?d.regExtension({name:"iconfont",global:{summernoteIconRequest:function(c,b,l){var e=d.APP.extractIconFont(c);e.name||(c=0);var h=a(b).attr("data-app-btn");h&&(e.size=e.size||"",delete e.link,e["class"]="mbr-iconfont mbr-iconfont-btn"+("true"==h?"":"-"+h.replace(/\s+/,"_")));
c=a(c||b);c={size:c.attr("data-app-btn")?Math.round(c.outerHeight()/2):parseInt(c.css("font-size"))||12,color:c.css("color")};d.APP.runIconFontDialog(e,c,function(c){l&&(arguments.length?(c=c&&a.extend({},f,c),l(c&&d.APP.createIconFont(c))):l())})},showMediaIconFontDialog:function(c,e,b){function l(c,b){if(g){a.extend(!0,b[g],c[g]);for(var d in b[g])b[g][d].active=void 0;b[g].iconFont.active=!0;return b}}var h=a.extend({},c.iconFont),k={size:parseInt(a(b).height()),color:a(b).css("color"),name:h.name};
delete h.name;d.fire("showMediaIconFontDialog");var g=a(b).attr("mbr-media")||a(b).attr("logo");h=d.APP.runIconFontDialog(h,k,function(g){if(g){c.iconFont=a.extend({},f,g);for(var h in c)c[h].active=void 0;c.iconFont.active=!0;c=d.applyFilter("saveMediaIconFontDialog",c);d.fire("saveMediaIconFontDialog");g=a(b).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");e(c);d.updateGlobalComponents(g,l);d.fire("savedMediaIconFontDialog",b,c,g)}});d.fire("showedMediaIconFontDialog",h);
d.APP.fire("showedPopup",h)}},events:{load:function(){if(b()){var c=a("[data-event=changeImage]").parent();c.each(function(){var b=a(this);if(!c.find("[data-event=changeIconfont]").length){var d=a.summernote.options;a(e.buttons.iconFont(a.summernote.lang[d.lang],d)).attr("data-event","changeIconfont").attr("data-media","iconFont").appendTo(b)}})}},summernoteInited:function(c){if(b()){var d=a.summernote.core.dom.makeLayoutInfo(a(c)),e=d.editor().data("options");a(c).attr("data-app-btn")&&(e.customToolbar?
"off"!==e.customToolbar.iconFont:1)&&(a(c).summernote("popover.addGroup",["iconFont",["iconFont"],{optional:!0}]),d.popover().find("[data-event=insertIconFontDialog]").tooltip({container:"body",trigger:"hover",placement:"top"}))}},changeMediaItem:function(a,b,d,e){"changeIconfont"==a&&this.showMediaIconFontDialog(b,d,e)}}}):console.log("Error: iconFont summernote plugin not found")})(jQuery,mbrAppCore);
