var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var g=a[e];if(b.call(d,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");
(function(a,b){b.regExtension({name:"plugin-sortable",events:{load:function(){var d,c,e=!1;b.$template.sortable({axis:"y",items:"> div:not(.no-sortable)",handle:".sortable",placeholder:"ui-sortable-placeholder",scrollSpeed:50}).on("sortstart",function(a,c){b.fire("startChangeComponentPosition");b.focusComponentBlock("x");e=!0;b.APP.$iframe.hasClass("desktop")&&(b.APP.$iframe.closest(".app-template").addClass("scaled sorting"),b.APP.$body.addClass("sorting"),b.$body.addClass("scaled"),b.$template.addClass("scaled"));
b.APP.isAMP()||c.helper.find(".app-component-content > section").jarallax("destroy").css("position","");d=c.item.prev(":not(.no-sortable)").data("app-component-id")}).on("sortstop",function(a,f){e=!1;b.APP.$iframe.closest(".app-template").removeClass("scaled sorting");b.APP.$body.removeClass("sorting");b.$body.removeClass("scaled");b.$template.removeClass("scaled");b.APP.isAMP()||(f?f.item.find(".mbr-parallax-background").jarallax({speed:.6}).css("position","relative"):b.$template.find(".app-component > .mbr-parallax-background").jarallax({speed:.6}).css("position",
"relative"));f&&(c=f.item.prev(":not(.no-sortable)").data("app-component-id"));f&&d!==c&&b.fire("changeComponentPosition",f.item.data("app-component-id"),c,d)});a.fn.scrollParent=function(c){return function(){return this[0].parentNode===b.$template[0]?a(this[0].ownerDocument):c.apply(this,arguments)}}(a.fn.scrollParent);b.APP.$body.on("mouseup touchend",function(a){e&&b.$template.trigger("sortstop")})}}})})(jQuery,mbrAppCore);
